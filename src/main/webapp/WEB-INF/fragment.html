<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
<!--/*  declare parameterized fragment called "list" */-->
<div th:fragment="list(category)">

  <div th:if="${category.getTop == true}" th:class="(${category.getTop}) ? 'top'">

    <span th:text="${category.name}"></span>

    <a th:href="@{/MoveCategory(categoryid=${category.id})}">Sposta</a>

  </div>


  <ul th:unless="${#maps.isEmpty(category.subClasses)}" class="subpart">

    <li th:each="child : ${category.subClasses}">

      <span th:text="${child.key.getName()}"></span>
      <a th:href="@{/MoveCategory(categoryid=${child.key.getId()})}">Sposta</a>
      <!--/* "this" indicates that the fragment to be used is in this file */-->
      <!--/* the product parameter to use in the fragment is the current child */-->
      <ul th:replace="this::list (${child.key})"></ul>
    </li>

  </ul>

</div>

</body>
</html>